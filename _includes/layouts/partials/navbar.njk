{% from "layouts/partials/macros.njk" import dropdown,
listItem %}
<div class="grid grid-cols-4 md:grid-cols-12 gap-4 max-w-4xl px-2">
    <div id="tagline" class="col-span-3 md:col-span-4">
        <a href="/" class="font-sans text-jet-200 font-semibold">
            Successful technical content through community building
        </a>
    </div>
    <button id="menuToggle" class="md:hidden col-span-1 justify-self-end" aria-expanded="false" aria-controls="menubar">
        <i class="fa-solid fa-bars text-2xl"></i>
        <span class="sr-only">Toggle menu</span>
    </button>
    <div id="menubar" class="hidden md:block col-span-4 md:col-span-8 mt-2">
        <ul
            class="md:grid md:grid-flow-col md:auto-cols-auto gap-2 items-start md:items-center md:justify-end"
            aria-label="Main navigation menu"
            role="menubar">
            {# Blog - Mobile: simple link, Desktop: dropdown #}
            <li class="block md:hidden rounded-sm font-sans">
                <a href="/static-site-transformation/" class="hover:transition-colors hover:bg-success-200 rounded-sm font-sans">Blog</a>
            </li>
            <li class="hidden md:block dropdown rounded-sm">
                <a
                    href="/static-site-transformation/"
                    id="blogDropdown-button"
                    class="px-3 hover:bg-success-800 rounded-sm"
                    aria-expanded="false"
                    aria-haspopup="true"
                    aria-controls="blogDropdown-menu">
                    Blog
                    <span class="ml-1">&#9660;</span>
                </a>
                <ul class="dropdown-menu bg-slate-50" role="menu" aria-labelledby="blogDropdown-button">
                    {% set sortedItems = collections.blog | sort(false, false, "data.featuredOrder") %}
                    {% for item in sortedItems %}
                        <li role="menuitem" class="block w-full text-jet hover:bg-medium-blue" id="blogDropdown-menu">
                            <a href="{{ item.url | url }}" class="font-sans" role="none" tabindex="-1" data-index="{{ loop.index0 }}">
                                {{ item.data.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
            {# Podcast - Same for both mobile and desktop #}
            <li class="rounded-sm font-sans">
                <a href="/podcasts/" class="hover:transition-colors hover:bg-success-200 rounded-sm font-sans">Podcast</a>
            </li>
            {# Skills - Mobile: simple link, Desktop: dropdown #}
            <li class="block md:hidden rounded-sm font-sans">
                <a href="/skills/" class="hover:transition-colors hover:bg-success-200 rounded-sm font-sans">Skills</a>
            </li>
            <li class="hidden md:block dropdown rounded-sm">
                <a
                    href="/skills/"
                    id="skillsDropdown-button"
                    class="px-3 hover:bg-success-800 rounded-sm"
                    aria-expanded="false"
                    aria-haspopup="true"
                    aria-controls="skillsDropdown-menu">
                    Skills
                    <span class="ml-1">&#9660;</span>
                </a>
                <ul class="dropdown-menu bg-slate-50" role="menu" aria-labelledby="skillsDropdown-button">
                    {% set sortedItems = collections.skills | sort(false, false, "data.featuredOrder") %}
                    {% for item in sortedItems %}
                        <li role="menuitem" class="block w-full text-jet hover:bg-medium-blue" id="skillsDropdown-menu">
                            <a href="{{ item.url | url }}" class="font-sans" role="none" tabindex="-1" data-index="{{ loop.index0 }}">
                                {{ item.data.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
            {{ listItem('/about/about-ed-marsh/', 'About') }}
            {{ listItem('https://linkedin.com/in/edmarsh', 'LinkedIn') }}
            {{ listItem('https://github.com/emdashdrupal/11ty-working', 'GitHub') }}
            <li class="relative hover:text-jet-200">
                <button id="searchToggle" class="inline-flex items-center" aria-expanded="false" aria-controls="search">
                    <i class="fa-solid fa-search text-2xl"></i>
                    <span class="sr-only">Toggle search</span>
                </button>
                <div id="search" class="hidden absolute right-0 top-full mt-2 w-64 bg-whitish rounded-sm shadow-lg z-50"></div>
            </li>
            {{ listItem('/contact/', 'Contact Ed') }}
        </ul>
    </div>
</div>